
if !exists('$XDG_CONFIG_HOME')
	let $XDG_CONFIG_HOME = $HOME . '/.config'
endif

if !exists('$XDG_DATA_HOME')
	let $XDG_DATA_HOME = $HOME . '/.local/share'
endif

if !exists('$XDG_CACHE_HOME')
	let $XDG_CACHE_HOME = $HOME . '/.cache'
endif

let $VIM_CONFIG_HOME = $XDG_CONFIG_HOME . '/vim'
let $VIM_DATA_HOME = $XDG_DATA_HOME . '/vim'
let $VIM_CACHE_HOME = $XDG_CACHE_HOME . '/vim'

if empty( glob($VIM_CONFIG_HOME) )
	call mkdir($VIM_CONFIG_HOME, 'p')
endif

if empty( glob($VIM_DATA_HOME) )
	call mkdir($VIM_DATA_HOME, 'p')
endif

if empty( glob($VIM_CACHE_HOME) )
	call mkdir($VIM_CACHE_HOME, 'p')
endif

let $MYVIMRC = $VIM_CONFIG_HOME . '/vimrc'

set runtimepath=$VIM_CONFIG_HOME,$VIM,$VIMRUNTIME
runtime! init/*.vim

"AUTOCMD" {{{

" rust
autocmd FileType rust nmap gd <Plug>(rust-def)
autocmd FileType rust nmap gs <Plug>(rust-def-split)
autocmd FileType rust nmap gx <Plug>(rust-def-vertical)
autocmd FileType rust nmap <leader>gd <Plug>(rust-doc)

" }}}

"LOOKS" {{{

" syntax highlight
syntax on

if !empty( glob("$XDG_CONFIG_HOME/vim" . '/plugged/gruvbox') )
	let g:gruvbox_contrast_light = 'hard'
	colorscheme gruvbox
	set background=light
else
	colorscheme koehler
	set background=dark
endif

" font
if has('gui_running')
	if has('gui_win32')
		set guifont=Cica:h10
		set guifontwide=Cica:h10
	else
		set guifont=Cica\ 10
		set guifontwide=Cica\ 10
	endif
endif

" Width Class Ambiguous is twice the width of ASCII characters.
set ambiwidth=double

" 行数表示
set number

" 検索時ハイライト
set hlsearch

" カーソルがある行のライン非表示
set nocursorline

" タブ幅 4 文字
set tabstop=4

" 不可視文字を表示
set list

" 不可視文字の表示記号
set listchars=tab:.\ ,trail:-,eol:~,extends:>,precedes:<,nbsp:%

" 折り返し
set nowrap

" }}}

